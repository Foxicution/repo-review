{"ast":null,"code":"var _jsxFileName = \"/home/fox/Projects/Python/repo-review/streamlit_components/graph_visualizer/frontend/src/MyComponent.tsx\";\nimport { Streamlit, StreamlitComponentBase, withStreamlitConnection } from \"streamlit-component-lib\";\nimport React from \"react\";\nimport Graph from 'react-graph-vis';\nclass StreamlitVisGraph extends StreamlitComponentBase {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      graph: JSON.parse(this.props.args[\"data\"]),\n      events: {\n        select: event => {\n          console.log(\"Selected nodes:\");\n          console.log(event.nodes[0]);\n          Streamlit.setComponentValue(event.nodes[0]);\n        },\n        stabilized: () => {\n          network.fit();\n        }\n        // doubleClick: ({ pointer: { canvas } }) => {\n        //   createNode(canvas.x, canvas.y);\n        // }\n      },\n\n      options: JSON.parse(this.props.args[\"options\"])\n    };\n    this.render = () => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Graph, {\n        graph: this.state.graph,\n        options: this.state.options,\n        events: this.state.events,\n        getNetwork: network => {\n          network.fit();\n          //  if you want access to vis.js network api you can set the state in a parent component using this property\n          //console.log(network);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }));\n    };\n  }\n}\nexport default withStreamlitConnection(StreamlitVisGraph);","map":{"version":3,"names":["Streamlit","StreamlitComponentBase","withStreamlitConnection","React","Graph","StreamlitVisGraph","state","graph","JSON","parse","props","args","events","select","event","console","log","nodes","setComponentValue","stabilized","network","fit","options","render","height","width"],"sources":["/home/fox/Projects/Python/repo-review/streamlit_components/graph_visualizer/frontend/src/MyComponent.tsx"],"sourcesContent":["import {\n  Streamlit,\n  StreamlitComponentBase,\n  withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport React from \"react\"\nimport Graph from 'react-graph-vis';\nimport { networkInterfaces } from \"os\";\n\n// const options = {\n//   layout: {\n//     hierarchical: false\n//   },\n//   edges: {\n//     color: \"#000000\"\n//   }\n// };\n\ninterface State{\n  graph: any,\n  events: any,\n  options: any\n}\n\nclass StreamlitVisGraph extends StreamlitComponentBase<State> {\n  public state = {\n    graph: JSON.parse(this.props.args[\"data\"]),\n    events: {\n      select: (event: any) => {\n        console.log(\"Selected nodes:\");\n        console.log(event.nodes[0]);\n        Streamlit.setComponentValue(event.nodes[0])\n      },\n      stabilized: () => {\n        network.fit()\n      }\n      // doubleClick: ({ pointer: { canvas } }) => {\n      //   createNode(canvas.x, canvas.y);\n      // }\n    },\n    options: JSON.parse(this.props.args[\"options\"])\n  }\n  \n  render = () => {\n    return (\n      <span style={{height:'100%',width:'100%'}}>\n        <Graph\n        graph={this.state.graph}\n        options={this.state.options}\n        events={this.state.events}\n        getNetwork={(network: any) => {\n          network.fit()\n          //  if you want access to vis.js network api you can set the state in a parent component using this property\n          //console.log(network);\n        }}\n        />\n      </span>\n    );\n  }\n}\n\nexport default withStreamlitConnection(StreamlitVisGraph)"],"mappings":";AAAA,SACEA,SAAS,EACTC,sBAAsB,EACtBC,uBAAuB,QAClB,yBAAyB;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,iBAAiB;AAkBnC,MAAMC,iBAAiB,SAASJ,sBAAsB,CAAQ;EAAA;IAAA;IAAA,KACrDK,KAAK,GAAG;MACbC,KAAK,EAAEC,IAAI,CAACC,KAAK,CAAC,IAAI,CAACC,KAAK,CAACC,IAAI,CAAC,MAAM,CAAC,CAAC;MAC1CC,MAAM,EAAE;QACNC,MAAM,EAAGC,KAAU,IAAK;UACtBC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;UAC9BD,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC;UAC3BjB,SAAS,CAACkB,iBAAiB,CAACJ,KAAK,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC;QAC7C,CAAC;QACDE,UAAU,EAAE,MAAM;UAChBC,OAAO,CAACC,GAAG,EAAE;QACf;QACA;QACA;QACA;MACF,CAAC;;MACDC,OAAO,EAAEd,IAAI,CAACC,KAAK,CAAC,IAAI,CAACC,KAAK,CAACC,IAAI,CAAC,SAAS,CAAC;IAChD,CAAC;IAAA,KAEDY,MAAM,GAAG,MAAM;MACb,oBACE;QAAM,KAAK,EAAE;UAACC,MAAM,EAAC,MAAM;UAACC,KAAK,EAAC;QAAM,CAAE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACxC,oBAAC,KAAK;QACN,KAAK,EAAE,IAAI,CAACnB,KAAK,CAACC,KAAM;QACxB,OAAO,EAAE,IAAI,CAACD,KAAK,CAACgB,OAAQ;QAC5B,MAAM,EAAE,IAAI,CAAChB,KAAK,CAACM,MAAO;QAC1B,UAAU,EAAGQ,OAAY,IAAK;UAC5BA,OAAO,CAACC,GAAG,EAAE;UACb;UACA;QACF,CAAE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACA,CACG;IAEX,CAAC;EAAA;AACH;AAEA,eAAenB,uBAAuB,CAACG,iBAAiB,CAAC"},"metadata":{},"sourceType":"module"}
